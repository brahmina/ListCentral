var themeID;var myWin;var themeColours;var scriptsURL;var StatusSetSelect;var imagesMultibox;var AddAmazonMultibox;var EditAmazonMultibox;var AddCCImageMultibox;var EditCCImageMultibox;var listChanged=0;var thisListID=0;var ListCreator="??";var ListName="??";var ButtonID="";var spinner="";var ThemeColor3="#1d687a";var DynamicFormID=0;var editing=0;var SortableListArray=new Array();var ckeditors=new Array();var descriptionContents=new Array();var listItem=new Array();listItem.Link=0;listItem.Description=0;listItem.Extra=0;function initOwner(){var a={"true":"open","false":"close"};var b=initSlider();$("AddListItemButton").addEvent("click",function(c){doSlider(c,b,"AddListItemContent")});$("CommentsButton").addEvent("click",function(c){doSlider(c,b,"CommentsContent")});$("TagsButton").addEvent("click",function(c){doSlider(c,b,"TagsContent")});$("EditListButton").addEvent("click",function(c){doSlider(c,b,"EditListContent")});$("EmailButton").addEvent("click",function(c){doSlider(c,b,"EmailContent")});$("DeleteButton").addEvent("click",function(c){return confirm("Are you sure you are done with this list?")});initListItemForm("Add");doSlider("",b,"AddListItemContent")}function escEvent(){removeFloatingBox();hideLogin()}function initMember(){var a=initSlider();$("CommentsButton").addEvent("click",function(b){doSlider(b,a,"CommentsContent")});$("EmailButton").addEvent("click",function(b){doSlider(b,a,"EmailContent")});doSlider("",a,"CommentsContent")}function initGuest(){var a=initSlider();$("CommentsButton").addEvent("click",function(b){doSlider(b,a,"CommentsContent")});$("EmailButton").addEvent("click",function(b){doSlider(b,a,"EmailContent")});doSlider("",a,"CommentsContent")}function initSlider(){var a=new Fx.Slide("FormSlider",{duration:400,onComplete:function(){if(this.wrapper.getStyle("height")!="0px"){this.wrapper.setStyle("height","auto");$("ListDetailsText").style.width="420px"}else{$("ListDetailsText").style.width="auto"}}}).hide();return a}function initListItemForm(b){var a=b+"LinkButton";$(a).addEvent("click",function(c){c.stop();setAddListItemFormElement(b,"Link");disableListItemButton(b,"Link")});a=b+"DescriptionButton";$(a).addEvent("click",function(c){c.stop();setAddListItemFormElement(b,"Description");disableListItemButton(b,"Description")});a=b+"EmButton";$(a).addEvent("click",function(c){c.stop();setAddListItemFormElement(b,"Em");disableListItemButton(b,"Em")});a=b+"ImageButton";$(a).addEvent("click",function(c){c.stop();openWindow("upload_image.html?action="+b,"UploadImage","height=486,width=430,status=yes,toolbar=no,scrollbars=yes")});if(b=="Add"){AddAmazonMultibox=new multiBox("AddAmazon",{overlay:new overlay(),enabled:true});AddCCImageMultibox=new multiBox("AddCCImage",{overlay:new overlay(),enabled:true})}else{EditAmazonMultibox=new multiBox("EditAmazon",{overlay:new overlay(),enabled:true});EditCCImageMultibox=new multiBox("EditCCImage",{overlay:new overlay(),enabled:true})}}function loadList(a){removeFloatingBox();resetNavigation();var b="ListNav"+a;var d=document.getElementById(b);d.onmouseover="";d.onmouseout="";d.className="NavCurrent";var c=scriptsURL+"?ListID="+a+"&todo=getList&ajax=1&ListDivDisplay=ListNormalView";doServerRequestWithFunc(c,"List",changeDocTitle)}function resetNavigation(){var a=document.getElementsByTagName("li");for(var b=0;b<a.length;b++){if(a[b].className=="NavCurrent"){a[b].className="Nav";a[b].onmouseover=function(){changeClass("NavOver",this)};a[b].onmouseout=function(){changeClass("Nav",this)}}}}function loadMoreList(a,d,c){removeFloatingBox();var b=scriptsURL+"?ListID="+a+"&page="+d+"&todo=getList&ajax=1&ListDivDisplay=ListNormalView";doServerRequest(b,c)}function changeRegions(b){var c=document.getElementById("Region");var a=scriptsURL+"?todo=GetRegionOptions&CountryID="+b+"&ajax=1&ListDivDisplay=ListNormalView";spinner="/images/"+themeID+"/horizontal_spinner.gif";doServerRequest(a,"Regions")}function loadNonListElement(a,b){removeFloatingBox();var c=scriptsURL+"?todo="+a+"&UserID="+b+"&ajax=1";thisListID=0;window.scroll(0,0);doServerRequestWithFunc(c,"List",changeDocTitle)}function loadNonListElement(a,b,d){removeFloatingBox();resetNavigation();var c=scriptsURL+"?todo="+a+"&UserID="+b+"&ajax=1&"+d;thisListID=0;window.scroll(0,0);doServerRequestWithFunc(c,"List",changeDocTitle)}function getListComments(a,c){var b=scriptsURL+"?todo=getListComments&ListID="+a+"&ajax=1&"+c;spinner="/images/"+themeID+"/horizontal_spinner.gif";doServerRequest(b,"ListComments")}function deleteListItem(b){var c=confirm("Are you sure you want to delete this list item?");if(c){var a=scriptsURL+"?todo=DeleteListItem&ListItemID="+b+"&ajax=1";doServerRequest(a,"List")}}function deleteListGroup(b){var c=confirm("Are you sure you want to delete this list group? All your lists categorized under this list group will be Uncategorized!");if(c){var a=scriptsURL+"?todo=DeleteListGroup&ListGroupID="+b+"&ajax=1";doServerRequest(a,"List")}}function deleteStatusSet(a){var c=confirm("Are you sure you want to delete this status set? All your lists with this status set will have not status!");if(c){var b=scriptsURL+"?todo=DeleteStatusSet&StatusSetID="+a+"&ajax=1";doServerRequest(b,"List")}}function deleteComment(b){var c=confirm("Are you sure you want to delete this comment?");if(c){var a=scriptsURL+"?todo=DeleteComment&CommentID="+b+"&ajax=1";spinner="/images/"+themeID+"/horizontal_spinner.gif";doServerRequest(a,"ListComments")}}function deleteBoardPost(b){var c=confirm("Are you sure you want to delete this board post?");if(c){var a=scriptsURL+"?todo=DeleteBoardPost&BoardPostID="+b+"&ajax=1";doServerRequest(a,"List")}}function changeDocTitle(){if(thisListID==0){document.title="lc: list central!"}else{var a=ListName.replace(/&amp;/gi,"&");a=a.replace(/&#39;/g,"'");a=a.replace(/&quot;/g,'"');a=a.replace(/&lt;/g,"<");a=a.replace(/&gt;/g,">");var b="lc: "+a+" a list by "+ListCreator;document.title=b}}function editListOrder(b){var a=scriptsURL+"?ListOrder="+b+"&todo=EditListItemOrder&ajax=1&ListDivDisplay=ListNormalView";doServerRequest(a,"List")}function doListRating(c,a){spinner="/images/"+themeID+"/horizontal_spinner.gif";var b=scriptsURL+"?todo=doListRating&ListID="+a+"&Rating="+c+"&ajax=1";var d="ListRating_"+a;doServerRequest(b,d)}function SwitchToReorderMode(c){if(c==1){document.getElementById("ListNormalView").style.display="none";document.getElementById("ListReorderView").style.display=""}else{var b="";for(var e in SortableListArray){var d=e.substring(8,0);if(d=="Sortable"){var a=SortableListArray[e].serialize(function(g,f){return g.getProperty("id").replace("Sortable","")+"-"+f}).join(",");b=b+a+","}}editListOrder(b)}}function processDynamicForm(c){var b=getAjaxParams(c);var a=scriptsURL+"?"+b+"&ajax=1";removeFloatingBox();doServerRequest(a,"List")}function processForm(a){processForm(a,"List")}function processAddListItem(a){saveEditorContent("Add");listItem.Link=0;listItem.Description=0;listItem.Extra=0;processForm(a,"List");return false}function processForm(f,a){var e=new Array();var d=0;var b=getAjaxParams(f);var c=scriptsURL+"?"+b+"&ajax=1";removeFloatingBox();scroll(0,0);doServerRequest(c,a);return false}function AddListTag(f,a){var e=new Array();var d=0;var b=getAjaxParams(f);var c=scriptsURL+"?"+b+"&ajax=1";spinner="/images/"+themeID+"/horizontal_spinner.gif";document.getElementById("Tag").value="";doServerRequest(c,a);return false}function DeleteListTags(f,a){var e=new Array();var d=0;var b=getAjaxParams(f);var c=scriptsURL+"?"+b+"&ajax=1";spinner="/images/"+themeID+"/horizontal_spinner.gif";doServerRequest(c,a);return false}function AddListComment(f,a){var e=new Array();var d=0;var b=getAjaxParams(f);var c=scriptsURL+"?"+b+"&ajax=1";document.getElementById("Comment").value="";doServerRequest(c,"ListComments");return false}function getAjaxParams(f){var b="";for(var d=0;d<f.elements.length;d++){var a=f.elements[d].id;if(checkobject(a)){var e=getInputValue(f.elements[d]);if(e=="unchecked"){continue}var c=f.elements[d];if(c.name==""){continue}if(e!=undefined){if(b==""){b=c.name+"="+encodeURIComponent(e)}else{b=b+"&"+c.name+"="+encodeURIComponent(e)}}}}return b}function switchSettings(a){document.getElementById("BasicInfo").style.display="none";document.getElementById("SettingsNavLI_BasicInfo").className="tabsFirst";document.getElementById("AboutMe").style.display="none";document.getElementById("SettingsNavLI_AboutMe").className="tabs";document.getElementById("Avatar").style.display="none";document.getElementById("SettingsNavLI_Avatar").className="tabs";document.getElementById("Theme").style.display="none";document.getElementById("SettingsNavLI_Theme").className="tabs";document.getElementById("Emailing").style.display="none";document.getElementById("SettingsNavLI_Emailing").className="tabs";document.getElementById("Privacy").style.display="none";document.getElementById("SettingsNavLI_Privacy").className="tabsLast";if(a=="BasicInfo"){document.getElementById("BasicInfo").style.display="block";document.getElementById("SettingsNavLI_BasicInfo").className="tabsFirstOn"}else{if(a=="AboutMe"){document.getElementById("AboutMe").style.display="block";document.getElementById("SettingsNavLI_AboutMe").className="tabsOn"}else{if(a=="Avatar"){document.getElementById("Avatar").style.display="block";document.getElementById("SettingsNavLI_Avatar").className="tabsOn"}else{if(a=="Theme"){document.getElementById("Theme").style.display="block";document.getElementById("SettingsNavLI_Theme").className="tabsOn"}else{if(a=="Emailing"){document.getElementById("Emailing").style.display="block";document.getElementById("SettingsNavLI_Emailing").className="tabsOn"}else{if(a=="Privacy"){document.getElementById("Privacy").style.display="block";document.getElementById("SettingsNavLI_Privacy").className="tabsLastOn"}else{alert("Something is awry! switchListForm("+a+")")}}}}}}}function switchCreateEdit(a){document.getElementById("CreateList").style.display="none";document.getElementById("CreateEditNavLI_CreateList").className="tabsFirst";document.getElementById("ListGroups").style.display="none";document.getElementById("CreateEditNavLI_ListGroups").className="tabs";document.getElementById("StatusSets").style.display="none";document.getElementById("CreateEditNavLI_StatusSets").className="tabsLast";if(a=="CreateList"){document.getElementById("CreateList").style.display="block";document.getElementById("CreateEditNavLI_CreateList").className="tabsFirstOn"}else{if(a=="ListGroups"){document.getElementById("ListGroups").style.display="block";document.getElementById("CreateEditNavLI_ListGroups").className="tabsOn"}else{if(a=="StatusSets"){document.getElementById("StatusSets").style.display="block";document.getElementById("CreateEditNavLI_StatusSets").className="tabsLastOn"}else{alert("Something is awry! switchListForm("+a+")")}}}}function getInputValue(b){var d;var e=b.id;var c=b.type;var a=b.name;var d=b.value;if((a=="ListItem.Link"&&d=="http://")||(a=="ListItem.ImageLink"&&d=="Paste a link to a jpg, gif or png file")){d=""}else{if(c=="text"||c=="hidden"||c=="textarea"){d=b.value}else{if(c=="button"||c=="submit"){if((ButtonID==b.name)){d=b.value}}else{if(c=="select-one"){if(b.selectedIndex>=0){d=b.options[b.selectedIndex].value}else{d=""}}else{if(c=="checkbox"||c=="radio"){if(b.checked){d=b.value}else{d="unchecked"}}else{if(c=="file"&&b.value!=undefined){alert("This ain't gonna work!")}else{}}}}}}return d}function doNothing(){removeFloatingBox()}function showEditListItemForm(c){removeFloatingBox();var a="EditListItem"+c;var d="<div id='"+a+"'></div>";showFloatingBox(d,"EditListItemForm");var b=scriptsURL+"?todo=GetEditListItemForm&ListItemID="+c+"&ajax=1";doServerRequest(b,a)}var handle;function showFloatingBox(c,a){var b="<div id='"+a+"'><div class='FloatingBox'>    <div class='FloatBoxHandle' id='FloatBoxHandle'></div>    <div class='FloatingBoxInner'>"+c+"</div></div></div>";$("FloatBoxWrapper").innerHTML=b;$(a).set("opacity",0);$("FloatBoxWrapper").style.display="block";$(a).set("opacity",1);handle=$("FloatBoxHandle");new Drag.Move(a,{handle:"FloatBoxHandle"});myWin=a}function removeFloatingBox(){if(myWin){$(myWin).set("opacity",0);$("FloatBoxWrapper").innerHTML="";$("FloatBoxWrapper").className="";$("FloatBoxWrapper").style.display="none";myWin=null}removeEditor("Edit")}function submitEditListItem(a){saveEditorContent("Edit");listItem.Link=0;listItem.Description=0;listItem.Extra=0;descriptionContents.Edit="";processForm(a,"List");removeFloatingBox()}function cancelEditListItem(){removeFloatingBox();listItem.Link=0;listItem.Description=0;listItem.Extra=0}function getStatusOptions(a){var b="<select name='ListItem.ListItemStatusID' id='ListItemStatusID' class='SelectInput'>";if(a==1){b=b+"<option value=''>Select</options>"}for(var c in StatusSetSelect){if(!isNaN(c)){if(c==a){b=b+"   <option value='"+c+"' selected>"+StatusSetSelect[c]+"</option>"}else{b=b+"   <option value='"+c+"'>"+StatusSetSelect[c]+"</option>"}}}b=b+"</select>";return b}function changeClass(a,b){b.className=a}function showLoginForm(a){removeFloatingBox();$("loginwrapper").fade("in")}function hideLogin(){var a=window.location;var b=/login/;if(!b.test(window.location)){$("loginwrapper").fade("out")}else{window.location=scriptsURL}}function showTip(c,a){removeFloatingBox();var b=document.getElementById(a).innerHTML;showFloatingBox(b,"PopUpTip")}function submitSearch(){document.getElementById("searchForm").submit()}function searchForm(){if(document.getElementById("query").value!=""){return true}else{return false}}function setAddListItemFormElement(e,a){var c="";switch(a){case"Link":if(!listItem.Link){c="<div id='"+e+"LinkDiv' class='ListItemElement'><div class='ListItemExtraLabel'>Link:</div><a class='DeleteSlider' alt='Remove' title='Remove' href='javascript:removeListItemExtra(\""+e+"\", \"Link\")'></a><br /><input type='text' maxlength='200' value='http://' name='ListItem.Link' id='"+e+"ListItemLink' /></div>";listItem.Link=1}break;case"Description":if(!listItem.Description){c="<div id='"+e+"DescriptionDiv'><div class='ListItemExtraLabel'>Description:</div><a class='DeleteSlider' alt='Remove' title='Remove' href='javascript:removeListItemExtra(\""+e+'", "Description")\'></a><br /><div id=\''+e+"Editor'></div></div>";listItem.Description=1}break;case"Em":if(!listItem.Extra){c="<div id='"+e+"EmDiv' class='ListItemElement'><div class='ListItemExtraLabel'>Embed code:</div><a class='DeleteSlider' alt='Remove' title='Remove' href='javascript:removeListItemExtra(\""+e+"\", \"Em\")'></a><br /><textarea name='ListItem.Embed' id='"+e+"EmbedCode'></textarea></div>";listItem.Extra=1}break;default:alert("Wha?");c="Wha?"}if(listItem.Description==1){var d="";if(listItem.Link==1){d=$(e+"ListItemLink").value}removeEditor(e);var b=e+"ListItemFormAdditions";$(b).innerHTML+=c;createEditor(e);if(d!=""){$(e+"ListItemLink").value=d}}else{var b=e+"ListItemFormAdditions";$(b).innerHTML+=c}if(a=="Link"){$(e+"ListItemLink").focus();$(e+"ListItemLink").select()}else{if(a=="Em"){$(e+"EmbedCode").focus()}}}function createEditor(b){if(ckeditors[b]){return}var a="130px";if(b=="Edit"){a="100px"}ckeditors[b]=CKEDITOR.replace(b+"Editor",{uiColor:ThemeColor3,resize_enabled:false,toolbarCanCollapse:false,width:"292px",height:a,themeid:themeID,toolbar:[["Bold","Italic","Underline","Strike","-","Subscript","Superscript","-","NumberedList","BulletedList","-","lclink","-","TextColor","SpecialChar","-","Undo","Redo","-","Source"]]});if($(b+"Editor").innerHTML){descriptionContents[b]=$(b+"Editor").innerHTML}ckeditors[b].setData(descriptionContents[b])}function saveEditorContent(a){if(!ckeditors[a]){return}var b=a+"ListItemHiddenDescription";if($(b)==null){removeEditor(a)}else{descriptionContents[a]=ckeditors[a].getData();$(b).value=descriptionContents[a]}}function removeEditor(b){if(!ckeditors[b]){return}try{ckeditors[b].destroy(true)}catch(a){}ckeditors[b]=null;listItem.Description=0;var c=b+"ListItemHiddenDescription";if($(c)!=null){$(c).value=""}if($(b+"Editor")!=null){$(b+"Editor").innerHTML=""}descriptionContents[b]=""}function chooseAmazon(f,d){var a;var e;var c;for(var b=0;b<f.elements.length;b++){if(f.elements[b].checked){a=f.elements[b].value;if(a){e=document.getElementById(a+"Image").src;c=document.getElementById(a+"Link").href}}}if(!a){alert("Please choose your Amazon image by clicking on the corresponding radio button")}else{top.document.getElementById(d+"ExtraImage").src=e;top.document.getElementById(d+"ExtraLink").href=c;top.document.getElementById(d+"ExtraImageDiv").style.display="block";top.document.getElementById(d+"ListItemASIN").value=a;top.document.getElementById(d+"RemoveExtraLink").href="javascript:removeListItemExtra('"+d+"', 'Amazon')";top.document.getElementById(d+"ExtraLabel").innerHTML="Amazon image & link:";top.disableListItemButton(d,"Amazon");if(d=="Add"){top.AddAmazonMultibox.close()}else{top.EditAmazonMultibox.close()}}}function chooseCCImage(f,d){var a;var e;var c;for(var b=0;b<f.elements.length;b++){if(f.elements[b].checked){a=f.elements[b].value;if(a){e=document.getElementById(a+"Image").src;c=document.getElementById(a+"Link").href}}}if(!a){alert("Please choose your Creative Commons image by clicking on the corresponding radio button")}else{top.document.getElementById(d+"ExtraImage").src=e;top.document.getElementById(d+"ExtraLink").href=c;top.document.getElementById(d+"ExtraImageDiv").style.display="block";top.document.getElementById(d+"ListItemCCImage").value=a;top.document.getElementById(d+"RemoveExtraLink").href="javascript:removeListItemExtra('"+d+"', 'CCImage')";top.document.getElementById(d+"ExtraLabel").innerHTML="Creative Commons image:";top.disableListItemButton(d,"CCImage");if(d=="Add"){top.AddCCImageMultibox.close()}else{top.EditCCImageMultibox.close()}}}function imageUploaded(b,a,c){if(c=="avatar"){window.opener.document.getElementById("UseAvatar2").checked=true;if(window.opener.document.getElementById("AvatarImage").src!=""){window.opener.document.getElementById("UploadedImageID").value=b;window.opener.document.getElementById("AvatarImage").src=a;window.opener.document.getElementById("AvatarImageImage").style.display="block"}}else{window.opener.document.getElementById(c+"ExtraImage").src=a;window.opener.document.getElementById(c+"ExtraLink").href="#";window.opener.document.getElementById(c+"ExtraImageDiv").style.display="block";window.opener.document.getElementById(c+"ListItemImageID").value=b;window.opener.document.getElementById(c+"RemoveExtraLink").href="javascript:removeListItemExtra('"+c+"', 'Image')";window.opener.document.getElementById(c+"ExtraLabel").innerHTML="Image:";disableListItemButton(c,"Image")}}function removeListItemExtra(c,b){if(b=="Amazon"||b=="CCImage"||b=="Image"){document.getElementById(c+"ExtraImage").src="";document.getElementById(c+"ExtraLink").href="";document.getElementById(c+"ExtraImageDiv").style.display="none";document.getElementById(c+"ListItemASIN").value="";document.getElementById(c+"ListItemCCImage").value="";document.getElementById(c+"ListItemImageID").value="";document.getElementById(c+"RemoveExtraLink").href="";document.getElementById(c+"ExtraLabel").innerHTML=""}else{if(b=="Description"){removeEditor(c);var d=c+"ListItemHiddenDescription";document.getElementById(d).value=""}var a=c+b+"Div";var e=document.getElementById(a);e.innerHTML="";e.parentNode.removeChild(e);if(b=="Link"||b=="Description"){listItem[b]=0}else{listItem.Extra=0}}enableListItemButton(c,b)}function disableListItemButton(g,d){var f=g+d+"Button";if(d!=="Image"){if($(f).className=="inactive"){return}}if(d=="Link"||d=="Description"){var c=$(f);c.className="inactive";$(c).removeEvents("click")}else{if(d=="Image"){if(window.opener.document.getElementById(f).className=="inactive"){return}var a=new Array("Amazon","Image","CCImage","Em");for(var b=0;b<a.length;b++){var e=a[b];var c=g+e+"Button";window.opener.document.getElementById(c).className="inactive";window.opener.document.getElementById(c).removeEvents("click")}}else{var a=new Array("Amazon","Image","CCImage","Em");for(var b=0;b<a.length;b++){var e=a[b];var c=g+e+"Button";$(c).className="inactive";$(c).removeEvents("click")}if(g=="Add"){AddAmazonMultibox.turnOff();$("AddAmazonLink").href="#";AddCCImageMultibox.turnOff();$("AddCCImageLink").href="#"}else{EditAmazonMultibox.turnOff();$("AddAmazonLink").href="#";EditCCImageMultibox.turnOff();$("AddCCImageLink").href="#"}amazonMultibox=null;ccImageMultibox=null}}}function enableListItemButton(h,d){var f=h+d+"Button";if(!$(f).className=="active"){return}if(d=="Link"||d=="Description"){$(f).className="active";$(f).addEvent("click",function(i){i.stop();setAddListItemFormElement(h,d);disableListItemButton(h,d)})}else{var a=new Array("Amazon","Image","CCImage","Em");for(var c=0;c<a.length;c++){var e=a[c];var f=h+e+"Button";$(f).className="active";$(f).removeEvents("click")}$(h+"ListItemASIN").value="";$(h+"ListItemCCImage").value="";$(h+"ListItemImageID").value="";var g=h+"EmButton";$(g).addEvent("click",function(i){i.stop();setAddListItemFormElement(h,"Em");disableListItemButton(h,"Em")});var b=h+"ImageButton";$(b).addEvent("click",function(i){i.stop();openWindow("upload_image.html?action="+h,"UploadImage","height=486,width=430,status=yes,toolbar=no,scrollbars=yes")});if(h=="Add"){AddAmazonMultibox.turnOn();$("AddAmazonLink").href="/Utilities/Amazon/send_request.html?ajax=1&action=Add";AddCCImageMultibox.turnOn();$("AddCCImageLink").href="/Utilities/CCImage/send_request.html?ajax=1&action=Add"}else{EditAmazonMultibox.turnOn();$("EditAmazonLink").href="/Utilities/Amazon/send_request.html?ajax=1&action=Edit";EditCCImageMultibox.turnOn();$("EditCCImageLink").href="/Utilities/CCImage/send_request.html?ajax=1&action=Edit"}}}function setSliderContent(c){var b=new Array("AddListItemContent","CommentsContent","TagsContent","EmailContent","EditListContent");for(var a=0;a<b.length;a++){if($(b[a])!=null){$(b[a]).style.display="none"}}$(c).style.display="block"}var whichTab="";function doSlider(a,c,b){if(a!=""){a.stop()}if(c.open==true){if(b==whichTab){c.slideOut();return}else{c.hide()}}setSliderContent(b);whichTab=b;c.slideIn()}var shortcut={all_shortcuts:{},add:function(b,h,d){var g={type:"keydown",propagate:false,disable_in_input:false,target:document,keycode:false};if(!d){d=g}else{for(var a in g){if(typeof d[a]=="undefined"){d[a]=g[a]}}}var f=d.target;if(typeof d.target=="string"){f=document.getElementById(d.target)}var c=this;b=b.toLowerCase();var e=function(o){o=o||window.event;if(d.disable_in_input){var l;if(o.target){l=o.target}else{if(o.srcElement){l=o.srcElement}}if(l.nodeType==3){l=l.parentNode}if(l.tagName=="INPUT"||l.tagName=="TEXTAREA"){return}}if(o.keyCode){code=o.keyCode}else{if(o.which){code=o.which}}var n=String.fromCharCode(code).toLowerCase();if(code==188){n=","}if(code==190){n="."}var s=b.split("+");var r=0;var p={"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"};var m={esc:27,escape:27,tab:9,space:32,"return":13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,"break":19,insert:45,home:36,"delete":46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123};var q={shift:{wanted:false,pressed:false},ctrl:{wanted:false,pressed:false},alt:{wanted:false,pressed:false},meta:{wanted:false,pressed:false}};if(o.ctrlKey){q.ctrl.pressed=true}if(o.shiftKey){q.shift.pressed=true}if(o.altKey){q.alt.pressed=true}if(o.metaKey){q.meta.pressed=true}for(var j=0;k=s[j],j<s.length;j++){if(k=="ctrl"||k=="control"){r++;q.ctrl.wanted=true}else{if(k=="shift"){r++;q.shift.wanted=true}else{if(k=="alt"){r++;q.alt.wanted=true}else{if(k=="meta"){r++;q.meta.wanted=true}else{if(k.length>1){if(m[k]==code){r++}}else{if(d.keycode){if(d.keycode==code){r++}}else{if(n==k){r++}else{if(p[n]&&o.shiftKey){n=p[n];if(n==k){r++}}}}}}}}}}if(r==s.length&&q.ctrl.pressed==q.ctrl.wanted&&q.shift.pressed==q.shift.wanted&&q.alt.pressed==q.alt.wanted&&q.meta.pressed==q.meta.wanted){h(o);if(!d.propagate){o.cancelBubble=true;o.returnValue=false;if(o.stopPropagation){o.stopPropagation();o.preventDefault()}return false}}};this.all_shortcuts[b]={callback:e,target:f,event:d.type};if(f.addEventListener){f.addEventListener(d.type,e,false)}else{if(f.attachEvent){f.attachEvent("on"+d.type,e)}else{f["on"+d.type]=e}}},remove:function(a){a=a.toLowerCase();var d=this.all_shortcuts[a];delete (this.all_shortcuts[a]);if(!d){return}var b=d.event;var c=d.target;var e=d.callback;if(c.detachEvent){c.detachEvent("on"+b,e)}else{if(c.removeEventListener){c.removeEventListener(b,e,false)}else{c["on"+b]=false}}}};var scriptsURL="";function showAsEditable(a,b){if(!b){document.getElementById(a).className="editable"}else{document.getElementById(a).className="noneditable"}}var elemSave=new Array();function edit(b,c,j){var i=c.innerHTML;elemSave[c.id]=new Array();elemSave[c.id]["tag"]=c.nodeName;elemSave[c.id]["id"]=c.id;elemSave[c.id]["text"]=i;var d="onkeyup=\"checkSave(event, '"+b+"', '"+c.id+"')\"";var e='<img class="cancelSaveButton" src="/images/icons/save.png" alt="Save" title="Save" onclick="saveChanges(\''+b+"')\" />";var a='<img class="cancelSaveButton" src="/images/icons/cancel.png" alt="Cancel" title="Cancel" onclick="cancelChanges(\''+b+"', '"+c.id+"')\" />";var g;if(j==1){var f='<input id="'+b+'_editor" name="'+b+'"'+d+' class="EditingTextInput" value="'+i+'" maxlength="100" /><br />'+e+a;g=f}else{if(j==3){i=i.replace(/<br>/gi,"\n");var h='<textarea id="'+b+'_editor" name="'+b+'" '+d+' class="EditingListItemTextarea" onkeypress="return imposeMaxLength(event, this, 200);">'+i+"</textarea><br />"+e+a;g=h}else{if(j==5){i=i.replace(/<br>/gi,"\n");var h='<textarea id="'+b+'_editor" name="'+b+'" '+d+' class="EditingDescriptionTextarea" >'+i+"</textarea><br />"+e+a;g=h}}}document.getElementById(b).innerHTML=g;document.getElementById(b).className="editing";document.getElementById(b+"_editor").focus();shortcut.add("Ctrl+Alt+S",function(){saveChanges(b)},{type:"keydown",propagate:false,target:document})}function checkSave(c,a,d){if(a!=undefined){var b=c.keyCode?c.keyCode:c.which;if(b==27){cancelChanges(a,d)}else{}}}function saveChanges(d){if(d!=undefined){var c=d+"_editor";var e=document.getElementById(c).value;var f;var g="Name";var h="ListItem";if(d.substr(0,9)=="ListGroup"){h="ListGroup";var b=d.split("p");f=b[1]}else{if(d.substr(0,9)=="StatusSet"){h="StatusSet";var b=d.split("et");f=b[1]}else{var b=d.split("m");f=b[1];var i=/Description/;if(i.test(f)){g="Description";b=f.split("D");f=b[0]}}}e=encodeURIComponent(e);var a=scriptsURL+"?Table="+h+"&ID="+f+"&Field="+g+"&todo=editInPlace&ajax=1&Value="+e;spinner="/images/"+themeID+"/horizontal_spinner.gif";if(d.substr(0,5)=="ListI"){document.getElementById(d).style.width="100%"}document.getElementById(d).className="noneditable";shortcut.remove("Ctrl+Alt+S");listChanged=1;doServerRequest(a,d)}}function replaceAll(c,e,d){var b=new RegExp(c,"g");var a=d.replace(this.pat,e);return a}function cancelChanges(a,h){if(a!=undefined){var c=1;var f=new RegExp("Description","im");if(a.match(f)){c=5}else{var f=new RegExp("ListItem","im");if(a.match(f)){c=3}}var b='id="'+h+'"';var g="onmouseout=\"showAsEditable('"+a+"', true)\"";var d="onmouseover=\"showAsEditable('"+a+"', false)\"";var e="onclick=\"edit('"+a+"', this, "+c+')"';$(a).innerHTML="<"+elemSave[h]["tag"]+" "+b+" "+g+" "+d+" "+e+">"+elemSave[h]["text"]+"</"+elemSave[h]["tag"]+">";$(a).className="noneditable"}}function doServerRequest(e,c){var f=e.split("?");var a=f[0];var d=f[1];var b=new Request.HTML({method:"get",url:a,onRequest:function(){getLoadingContent(c)},update:$(c),noCache:true});b.send(d)}function doServerRequestWithFunc(f,d,c){var g=f.split("?");var a=g[0];var e=g[1];var b=new Request.HTML({method:"post",url:a,onRequest:function(){getLoadingContent(d)},onComplete:function(){c()},update:$(d)});b.send(e)}function getLoadingContent(c){var b;if(c!=""){b=getSpinnerContent(c,spinner);var a=document.getElementById(c);a.style.display="";a.innerHTML=b}}function getSpinnerContent(d){var c="";var b=/horizontal_spinner/;var a=/More/;if(d=="List"){c="<center><div class='LoadingBig'>   <img src='/images/"+themeID+"/lclogo.png' class='LoadingLogo' alt='List Central' />   <p>Loading...</p>   <img src='/images/"+themeID+"/ajax-loader.gif' class='AjaxLoader' alt='' /></div></center>"}else{if(b.test(spinner)){c="<div class='TightSpinner'><img src='"+spinner+"' alt='Please wait...' /></div>"}else{c="<center><div class='Loading'>   <img src='/images/"+themeID+"/lclogo.png' class='LoadingLogo' alt='List Central' />   <p>Loading...</p>   <img src='/images/"+themeID+"/ajax-loader.gif' class='AjaxLoader' alt='' /></div></center>"}}spinner="";return c}var PopOver=0;function showPopOver(a){if(PopOver==0){var b=document.getElementById(a);b.style.display="";PopOver=1}}function hidePopOver(a){document.getElementById(a).style.display="none";PopOver=0}function closeWindow_ParentReload(){window.opener.location.reload(true);self.close()}function openWindow(c,a,b){window.open(c,a,b)}function closeWindow(){self.close()}function setSearchValues(){document.getElementById("query").value="Search..."}function clearSearchInput(a){if(a==1){document.getElementById("query").value=""}else{if(document.getElementById("query").value==""){document.getElementById("query").value="Search..."}}}function clearBoardMessage(){boardmessage=document.getElementById("BoardMessageInput");if(boardmessage.value=="Write Something..."){boardmessage.value=""}else{if(boardmessage.value==""){boardmessage.value="Write Something..."}}}function setBoardMessage(){document.getElementById("BoardMessageInput").value="Write Something..."}var notRequired=new Object();function validateForm(f){var d=false;var a=false;for(var b=0;b<f.elements.length;b++){var c=f.elements[b];if(c.name=="Human"){a=true}else{if(!notRequired[c.name]){if(c.type=="select-one"||c.type=="select-multiple"){if(!c.options[c.selectedIndex].value==""){d=true}}else{if(c.type=="text"||c.type=="password"){if(c.value!=""){d=true}}else{if(c.type=="hidden"){d=true}}}}}}if(a){var e=prompt("Are you human? Please type 'yes' below and click ok").toLowerCase();if(e=="yes"){document.getElementById("Human").value=1}}return d}function validateSignUp(a){if(document.getElementById("PasswordSignup").value!=document.getElementById("PasswordConfirm").value){alert("Passwords do not match");document.getElementById("PasswordSignup").focus();return false}if(document.getElementById("Email").value==""){alert("Email is blank");document.getElementById("Email").focus();return false}if(document.getElementById("UsernameSignup").value==""){alert("Username is blank");document.getElementById("UsernameSignup").focus();return false}if(document.getElementById("PasswordSignup").value==""){alert("Password is blank");document.getElementById("PasswordSignup").focus();return false}return true}function checkobject(a){return true;if(document.getElementById(a)){return true}else{return false}}function setThemeVisuals(a){var b=themeColours[a];var d="";for(var c=0;c<b.length;c++){d=d+"<div class='themeColourVisual' style='background:"+b[c]+"'>&nbsp;</div>"}document.getElementById("ThemeVisualization").innerHTML=d}function wait(){var b=new Date();var a=null;var c=2000;do{a=new Date()}while(a-b<c)}function imposeMaxLength(d,b,a){var c=d.keyCode?d.keyCode:d.which;if(c==8){return true}else{return(b.value.length<=a)}}function confirmDeactivate(){var a=confirm("Are you sure you want to deactivate you account?");document.getElementById("PasswordVerifyHidden").value=document.getElementById("PasswordVerify").value;return a}function pause(c){var b=new Date();var a=null;do{a=new Date()}while(a-b<c)};